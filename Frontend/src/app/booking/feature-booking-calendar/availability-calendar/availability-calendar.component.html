



<div class="calendar-container">

  <div class="calendar">

    <div class="calendar-headline text-main text-white fw-bold">
      <div class="calendar-headline-month">
        <h2>
        {{ firstDayOfActiveMonth().monthShort }},
        {{ firstDayOfActiveMonth().year }}
        </h2>
      </div>

      <div>

        <div class="btn my-custom-button" (click)="goToPrevMonth()">
          <mat-icon>
          <span class="material-icons">
          arrow_back_ios_new
          </span>
          </mat-icon>
        </div>
        <div class="btn  my-custom-button" (click)="goToToday()">
          <mat-icon>
          <span class="material-icons">
          calendar_today
          </span>
          </mat-icon>
        </div>
        <div class="btn  my-custom-button" (click)="goToNextMonth()">
          <mat-icon>
          <span class="material-icons">
          arrow_forward_ios_new
          </span>
          </mat-icon>
        </div>

      </div>
    </div>

    <div class="calendar-weeks-grid">

      @for (weekDay of weekDays(); track $index) {
        <div class="calendar-weeks-grid-cell text-main text-white">
          {{  weekDay }}
        </div>

      }
    </div>
    <div class="calendar-grid">

      @for( dayOfMonth of daysOfMonth(); track $index) {

           <div class="d-flex flex-column" [ngClass]="{'calendar-grid-cell': true,
            'calendar-grid-cell-active': activeDay()?.toISODate() === dayOfMonth.toISODate(),
            'calendar-grid-cell-inactive': dayOfMonth.month !== firstDayOfActiveMonth().month}"
                (click)="activeDay.set(dayOfMonth)">

             <p class="fw-bold text-truncate d-block"
                [ngClass]="{'text-mute': dayOfMonth.month !== firstDayOfActiveMonth().month}">
              {{ dayOfMonth.day }}
             </p>


         <div class="d-flex justify-content-center" >
           <app-calendar-cell [room]="this.selectedRoom()">
           </app-calendar-cell>
         </div>

       </div>

      }
    </div>

  </div>
</div>

<div>
  <div>
    @if(activeDay(); as activeDay) {
      <div> {{ activeDay.toLocaleString(DATE_MED) }} </div>
      <div> {{ activeDay }} </div>
    } @else {
      Please select a day.
    }
  </div>

</div>
